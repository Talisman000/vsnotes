---
tags:
  - vue
---

# 算出プロパティ

算出プロパティとは、computed で定義した関数で算出したデータを返す事ができるプロパティのこと。便利な点は超ざっくり言うと関数の返り値をキャッシュできるところ（前と同じ結果が得られるとき即時に値を返してくれるので効率がよい）。

## メソッドとの違い

|            | computed（算出プロパティ）                                                                  | methods（メソッド）                                            |
| :--------- | :------------------------------------------------------------------------------------------ | :------------------------------------------------------------- |
| 記法       | {{name}} ->引数を伴う処理が不可                                                             | {{name()}} ->()必要、引数を使った処理が可能                    |
| 用途       | データの加工を伴う取得<br>（一応 setter としても利用可）                                    | データの取得に限らず、操作やデータの更新等<br>様々な処理に使用 |
| キャッシュ | される（data に設定されたデータ（リアクティブデータ）<br>が更新されない限り再実行されない） | されない                                                       |

## キャッシュされるされないの違いの例

```html
<div id="app">
  メソッド
  <ol>
    <li>{{ getDate() }}</li>
    <li>{{ getDate() }}</li>
    <li>{{ getDate() }}</li>
  </ol>
  算出プロパティ
  <ol>
    <li>{{ date }}</li>
    <li>{{ date }}</li>
    <li>{{ date }}</li>
  </ol>
</div>
```

```javascript
var app = new Vue({
  el: "#app",
  computed: {
    date: function () {
      console.log("computed");
      return Math.random();
    },
  },
  methods: {
    getDate: function () {
      console.log("methods");
      return Math.random();
    },
  },
});
```

結果

```dotnetcli
メソッド
0.523744236259859
0.29754866940841374
0.3024997149055251

算出プロパティ
0.19494595412700444
0.19494595412700444
0.1949459541270044
```

## 使い分け方
### 算出プロパティ
- 引数が不要な単純な処理の場合(用途がわかりやすいため)
- キャッシュが効果的な場面で、処理を高速化させたい場合

### メソッド
- 引数が必要となるような処理
- あえてキャッシュさせたくない場合、値を常に更新したい場合(先ほどのランダム関数を使った処理など)
- キャッシュの話がよくわからない場合(よくわからずに算出プロパティを使うと思わぬバグに繋がります)